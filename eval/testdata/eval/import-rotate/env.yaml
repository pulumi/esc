imports:
  - a: {rotateOnly: true, merge: false}

values:
  # expectation: example is unknown during open, but resolves during rotate
  example: ${imports["a"].some_secret}

  example2:
    fn::rotate::swap:
      inputs:
        # during open, rotation fn must be tolerant of unknown inputs
        foo: ${example}
      state:
        a: a
        b: b
